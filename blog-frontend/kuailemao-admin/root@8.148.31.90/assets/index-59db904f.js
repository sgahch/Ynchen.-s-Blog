import{_ as x}from"./index.vue_vue_type_script_setup_true_lang-be6d18e9.js";import{t as k,_ as N}from"./index-2a334394.js";import{m as O,a7 as I}from"./antd-a1128520.js";import{d as S,r as p,o as C,a0 as c,a1 as s,a2 as D,a3 as d,a8 as l,c as u,E as r,a5 as a,ae as e,af as h,F as M,ak as V,a6 as B,a7 as G}from"./vue-5b89248e.js";import"./chunk-YXBPAIHU-f2871816.js";import"./context-6a3352c8.js";async function J(){return k("/monitor/server",null).catch(i=>O.warn(i))}const n=i=>(B("data-v-0b47a486"),i=i(),G(),i),P={class:"cpuSty"},T={class:"tab"},A=n(()=>l("thead",null,[l("tr",null,[l("th",{style:{width:"50%"}}," 属性 "),l("th",{style:{width:"50%"}}," 值 ")])],-1)),E={key:0},L=n(()=>l("td",null,[l("div",null,"核心数")],-1)),U=n(()=>l("td",null,[l("div",null,"用户使用率")],-1)),$=n(()=>l("td",null,[l("div",null,"系统使用率")],-1)),q=n(()=>l("td",null,[l("div",null,"当前空闲率")],-1)),z={class:"tab"},H=n(()=>l("thead",null,[l("tr",null,[l("th",{style:{width:"33%"}}," 属性 "),l("th",{style:{width:"33%"}}," 内存 "),l("th",{style:{width:"33%"}}," JVM ")])],-1)),K={key:0},Q=n(()=>l("td",null,[l("div",null,"总内存")],-1)),R=n(()=>l("td",null,[l("div",null,"已用内存")],-1)),W=n(()=>l("td",null,[l("div",null,"剩余内存")],-1)),X=n(()=>l("td",null,[l("div",null,"使用率")],-1)),Y={style:{"margin-top":"1rem"},class:"cpuSty"},Z={class:"tab"},F={key:0},ll={style:{border:"none"}},tl=n(()=>l("td",null,[l("div",null,"服务器名称")],-1)),el=n(()=>l("td",null,[l("div",null,"操作系统")],-1)),nl=n(()=>l("td",null,[l("div",null,"服务器IP")],-1)),dl=n(()=>l("td",null,[l("div",null,"系统架构")],-1)),ul={style:{"margin-top":"1rem"},class:"cpuSty"},ol={class:"tab"},sl={key:0},al={style:{border:"none"}},il=n(()=>l("td",null,[l("div",null,"Java名称")],-1)),_l={style:{width:"40%"}},vl=n(()=>l("td",null,[l("div",null,"Java版本")],-1)),cl=n(()=>l("td",null,[l("div",null,"启动时间")],-1)),rl=n(()=>l("td",null,[l("div",null,"运行时长")],-1)),hl=n(()=>l("td",null,[l("div",null,"安装路径")],-1)),ml={colspan:"3"},pl=n(()=>l("td",null,[l("div",null,"项目路径")],-1)),yl={colspan:"3"},fl=n(()=>l("td",{style:{width:"20%"}},[l("div",null,"运行参数")],-1)),bl={colspan:"3"},gl={style:{"margin-top":"1rem"},class:"cpuSty"},wl={class:"tab"},jl=n(()=>l("thead",null,[l("tr",null,[l("th",null," 盘符路径 "),l("th",null," 文件系统 "),l("th",null," 盘符类型 "),l("th",null," 总大小 "),l("th",null," 可用大小 "),l("th",null," 已用大小 "),l("th",null," 已用百分比 ")])],-1)),xl={key:0},kl=S({__name:"index",setup(i){const t=p(),_=p(!0);return C(async()=>{const{data:m}=await J();t.value=m,_.value=!1}),(m,Nl)=>{const y=c("DashboardOutlined"),v=I,f=c("ProfileOutlined"),b=c("DesktopOutlined"),g=c("CoffeeOutlined"),w=c("InboxOutlined"),j=x;return s(),D(j,null,{default:d(()=>[l("div",P,[u(v,{bordered:!1,style:{width:"48%"},loading:_.value},{title:d(()=>[u(y),r(" CPU ")]),default:d(()=>[l("table",T,[A,t.value?(s(),a("tbody",E,[l("tr",null,[L,l("td",null,[l("div",null,e(t.value.cpu.cpuNum),1)])]),l("tr",null,[U,l("td",null,[l("div",null,e(t.value.cpu.used)+"%",1)])]),l("tr",null,[$,l("td",null,[l("div",null,e(t.value.cpu.sys)+"%",1)])]),l("tr",null,[q,l("td",null,[l("div",null,e(t.value.cpu.free),1)])])])):h("",!0)])]),_:1},8,["loading"]),u(v,{bordered:!1,style:{width:"48%"},loading:_.value},{title:d(()=>[u(f),r(" 内存 ")]),default:d(()=>[l("table",z,[H,t.value?(s(),a("tbody",K,[l("tr",null,[Q,l("td",null,[l("div",null,e(t.value.mem.total)+"G",1)]),l("td",null,[l("div",null,e(t.value.jvm.total)+"M",1)])]),l("tr",null,[R,l("td",null,[l("div",null,e(t.value.mem.used)+"G",1)]),l("td",null,[l("div",null,e(t.value.jvm.total-t.value.jvm.free)+"M",1)])]),l("tr",null,[W,l("td",null,[l("div",null,e(t.value.mem.free)+"G",1)]),l("td",null,[l("div",null,e(t.value.jvm.free)+"M",1)])]),l("tr",null,[X,l("td",null,[l("div",null,e((t.value.mem.used/t.value.mem.total*100).toFixed(2))+"%",1)]),l("td",null,[l("div",null,e(((t.value.jvm.total-t.value.jvm.free)/t.value.jvm.total*100).toFixed(2))+"%",1)])])])):h("",!0)])]),_:1},8,["loading"])]),l("div",Y,[u(v,{bordered:!1,style:{width:"98%"},loading:_.value},{title:d(()=>[u(b),r(" 服务器信息 ")]),default:d(()=>[l("table",Z,[t.value?(s(),a("tbody",F,[l("tr",ll,[tl,l("td",null,[l("div",null,e(t.value.sys.computerName),1)]),el,l("td",null,[l("div",null,e(t.value.sys.osName),1)])]),l("tr",null,[nl,l("td",null,[l("div",null,e(t.value.sys.computerIp),1)]),dl,l("td",null,[l("div",null,e(t.value.sys.osArch),1)])])])):h("",!0)])]),_:1},8,["loading"])]),l("div",ul,[u(v,{bordered:!1,style:{width:"98%"},loading:_.value},{title:d(()=>[u(g),r(" Java虚拟机信息 ")]),default:d(()=>[l("table",ol,[t.value?(s(),a("tbody",sl,[l("tr",al,[il,l("td",_l,[l("div",null,e(t.value.jvm.name),1)]),vl,l("td",null,[l("div",null,e(t.value.jvm.version),1)])]),l("tr",null,[cl,l("td",null,[l("div",null,e(t.value.jvm.startTime),1)]),rl,l("td",null,[l("div",null,e(t.value.jvm.runTime),1)])]),l("tr",null,[hl,l("td",ml,[l("div",null,e(t.value.jvm.home),1)])]),l("tr",null,[pl,l("td",yl,[l("div",null,e(t.value.sys.userDir),1)])]),l("tr",null,[fl,l("td",bl,[l("div",null,e(t.value.jvm.inputArgs),1)])])])):h("",!0)])]),_:1},8,["loading"])]),l("div",gl,[u(v,{bordered:!1,style:{width:"98%"},loading:_.value},{title:d(()=>[u(w),r(" 磁盘状态 ")]),default:d(()=>[l("table",wl,[jl,t.value?(s(),a("tbody",xl,[(s(!0),a(M,null,V(t.value.sysFiles,o=>(s(),a("tr",{key:o.dirName},[l("td",null,[l("div",null,e(o.dirName),1)]),l("td",null,[l("div",null,e(o.sysTypeName),1)]),l("td",null,[l("div",null,e(o.typeName),1)]),l("td",null,[l("div",null,e(o.total),1)]),l("td",null,[l("div",null,e(o.free),1)]),l("td",null,[l("div",null,e(o.used),1)]),l("td",null,[l("div",null,e(o.usage)+"%",1)])]))),128))])):h("",!0)])]),_:1},8,["loading"])])]),_:1})}}});const Vl=N(kl,[["__scopeId","data-v-0b47a486"]]);export{Vl as default};

import{u as He,a as ve,i as $e,b as ke,o as Oe,c as Ce,d as Ne,e as we,l as De,r as xe,f as Ee,g as Ie,p as Ve}from"./index-2a334394.js";import{u as Se}from"./multi-tab-397b678d.js";import{u as Me,a as O,s as D,n as se,b as ie,c as W,e as te,d as je}from"./context-6a3352c8.js";import{r as qe,u as e,d as M,ad as Ge,S as G,a1 as a,a2 as h,a3 as l,c as r,E as R,a8 as S,ae as $,a5 as f,j as T,af as _,ag as w,s as N,F as L,N as P,ah as U,ai as I,aj as Re,a0 as J,ak as Q,m as Je,q as Le,z as Be,al as Qe,f as Xe,A as _e,a as Ye,am as Ze,w as et,an as ge}from"./vue-5b89248e.js";import{L as tt,A as nt,g as ot,h as ne,M as X,D as Te,j as Fe,l as re,n as at,p as lt,i as st,q as it,r as dt,s as Ue,C as rt,t as ut,u as ct,v as pt,w as Pe,x as oe,S as mt,y as Ae,z as ce,B as pe,E as me,F as ue,G as be,H as ht,I as yt,J as ft,K as kt,R as _t,N as gt,T as bt,O as vt}from"./antd-a1128520.js";function he(){return new DOMException("The request is not allowed","NotAllowedError")}async function $t(k){if(!navigator.clipboard)throw he();return navigator.clipboard.writeText(k)}async function Ct(k){const o=document.createElement("span");o.textContent=k,o.style.whiteSpace="pre",o.style.webkitUserSelect="auto",o.style.userSelect="all",document.body.appendChild(o);const t=window.getSelection(),p=window.document.createRange();t.removeAllRanges(),p.selectNode(o),t.addRange(p);let y=!1;try{y=window.document.execCommand("copy")}finally{t.removeAllRanges(),window.document.body.removeChild(o)}if(!y)throw he()}async function wt(k){try{await $t(k)}catch(o){try{await Ct(k)}catch(t){throw t||o||he()}}}var St=(k=3e3)=>{const o=qe(!1);return{copied:o,copy:p=>{const y=e(p);wt(y).then(()=>{o.value=!0;const u=setTimeout(()=>{o.value=!1,clearTimeout(u)},k)})}}};const Mt={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},Rt={class:"anticon"},Lt=M({__name:"index",setup(k){const o=He(),t=ve(),p=Se(),y=Me(),u=Ge(),{avatar:s,nickname:i}=G(t);async function m({key:b}){if(b==="logout"){const g=o.loading("退出登录...",0);try{await t.logout()}finally{g(),o.success("退出登录成功",3),u.push({path:"/login"}).then(()=>{p.clear(),y.clear()})}}}return(b,g)=>{const v=nt,C=ot,c=ne,n=X,d=Te;return a(),h(d,null,{overlay:l(()=>[r(n,{onClick:m},{default:l(()=>[r(C),r(c,{key:"logout"},{icon:l(()=>[r(e(tt))]),default:l(()=>[R(" 退出登录 ")]),_:1})]),_:1})]),default:l(()=>[S("span",Mt,[r(v,{src:e(s),"mr-8px":"",size:"small"},null,8,["src"]),S("span",Rt,$(e(i)),1)])]),_:1})}}}),Bt={"decoration-none":"",href:"https://antdv.com",target:"_blank"},Tt=M({name:"FooterLinks",__name:"footer-links",setup(k){return(o,t)=>(a(),f("a",Bt,"个人博客后台"))}}),Ft={"c-primary":""},Ut=["src"],Pt={key:0},At=M({__name:"global-header-logo",setup(k){const{logo:o,title:t,layout:p,isMobile:y}=O(),u=T(()=>({"ant-pro-global-header-logo":p.value==="mix"||y.value,"ant-pro-top-nav-header-logo":p.value==="top"&&!y.value}));return(s,i)=>(a(),f("div",{class:w(e(u))},[S("a",Ft,[S("img",{src:e(o)},null,8,Ut),e(y)?_("",!0):(a(),f("h1",Pt,$(e(t)),1))])],2))}}),Wt=M({__name:"index",setup(k){const{layout:o,isMobile:t,handleMobileCollapsed:p,theme:y,menuHeader:u,collapsed:s,handleCollapsed:i,leftCollapsed:m}=O(),b=N("ant-pro-global-header"),g=T(()=>({[b.value]:!0,[`${b.value}-layout-${o.value}`]:!!o.value,[`${b.value}-inverted`]:y.value==="inverted"&&o.value==="top"}));return(v,C)=>{const c=at;return a(),f("div",{class:w([e(g)])},[e(o)==="side"&&!e(t)&&!e(m)?(a(),f("span",{key:0,class:"ml-0 text-18px",onClick:C[0]||(C[0]=n=>{var d;return(d=e(i))==null?void 0:d(!e(s))})},[e(s)?(a(),h(e(Fe),{key:0})):(a(),h(e(re),{key:1}))])):_("",!0),e(u)?(a(),f(L,{key:1},[e(o)!=="side"||e(t)?(a(),h(At,{key:0})):_("",!0)],64)):_("",!0),e(t)?(a(),f("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:C[1]||(C[1]=(...n)=>e(p)&&e(p)(...n))},[r(e(re))])):_("",!0),S("div",{class:w(["flex-1 overflow-x-auto",e(o)==="top"?`${e(b)}-top`:""])},[P(v.$slots,"headerContent")],2),r(c,{align:"center","flex-shrink-0":""},{default:l(()=>[P(v.$slots,"headerActions")]),_:3})],2)}}});const Kt=M({__name:"index",setup(k){const{headerHeight:o,fixedHeader:t,layout:p,isMobile:y,collapsed:u,collapsedWidth:s,siderWidth:i,menu:m,splitMenus:b,selectedMenus:g}=O(),v=T(()=>{const n={height:`${o.value}px`,lineHeight:`${o.value}px`,paddingInline:0};if((t.value||p.value==="mix")&&(n.zIndex=100,n.width="100%",n.right=0),p.value==="side"&&m.value){if(!y.value&&t.value){const d=u.value?s.value:i.value;n.width=`calc(100% - ${d}px)`}n.zIndex=19}return n}),C=T(()=>{const n=[];return(t.value||p.value==="mix")&&n.push("ant-pro-fixed-header"),p.value&&n.push("ant-pro-fixed-header-action"),p.value==="mix"&&n.push("ant-pro-fixed-header-inverted"),n}),c=T(()=>t.value||p.value==="mix"&&(b.value?(g.value??[]).length>0:!0));return(n,d)=>{const F=lt;return a(),f(L,null,[e(c)?(a(),h(F,{key:0,style:U({height:`${e(o)}px`,lineHeight:`${e(o)}px`,background:"transparent"})},null,8,["style"])):_("",!0),r(F,{style:U(e(v)),class:w(e(C))},{default:l(()=>[r(Wt,null,I({_:2},[n.$slots.headerActions?{name:"headerActions",fn:l(()=>[P(n.$slots,"headerActions")]),key:"0"}:void 0,n.$slots.headerContent?{name:"headerContent",fn:l(()=>[P(n.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}});const de=M({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(k){const o=k,t=T(()=>{if($e(o.icon)){const p=o.icon();if(p)return p}else return st[o.icon]});return(p,y)=>p.icon?(a(),h(Re(e(t)),{key:0})):_("",!0)}}),zt=["href","target"],Ht=["href","target"],We=M({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(k){function o(t){return $e(t)?t():t}return(t,p)=>{const y=J("sub-menu",!0),u=J("RouterLink"),s=ne,i=it;return t.item.children&&!t.item.hideChildrenInMenu?(a(),h(i,{key:t.item.path},I({title:l(()=>[R($(o(t.item.title)),1)]),default:l(()=>[(a(!0),f(L,null,Q(t.item.children,m=>(a(),f(L,null,[m.hideInMenu?_("",!0):(a(),f(L,{key:0},[m.children?(a(),h(y,{key:m.path,item:m},null,8,["item"])):(a(),h(s,{key:m.path},I({default:l(()=>[e(ke)(m.path)?(a(),f("a",{key:1,href:m.path,target:m.target??"_blank"},$(o(m.title)),9,zt)):(a(),f(L,{key:0},[t.link?(a(),h(u,{key:0,to:m.path},{default:l(()=>[R($(o(m.title)),1)]),_:2},1032,["to"])):(a(),f(L,{key:1},[R($(o(m.title)),1)],64))],64))]),_:2},[m.icon?{name:"icon",fn:l(()=>[r(de,{icon:m.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:l(()=>[r(de,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(a(),h(s,{key:t.item.path},I({default:l(()=>[e(ke)(t.item.path)?(a(),f("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},$(o(t.item.title)),9,Ht)):(a(),f(L,{key:0},[t.link?(a(),h(u,{key:0,to:t.item.path},{default:l(()=>[R($(o(t.item.title)),1)]),_:1},8,["to"])):(a(),f(L,{key:1},[R($(o(t.item.title)),1)],64))],64))]),_:2},[t.item.icon?{name:"icon",fn:l(()=>[r(de,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Ke=M({__name:"index",setup(k){const{theme:o,collapsed:t,layout:p,isMobile:y,selectedMenus:u,selectedKeys:s,openKeys:i,handleOpenKeys:m,handleSelectedKeys:b,handleMenuSelect:g}=O(),v=T(()=>o.value==="inverted"?"dark":o.value);return(C,c)=>{const n=X;return a(),h(n,{"selected-keys":e(s),"open-keys":e(t)?[]:e(i),mode:e(p)==="top"&&!e(y)?"horizontal":"inline",theme:e(v),collapsed:e(t),class:"ant-pro-sider-menu","onUpdate:openKeys":e(m),"onUpdate:selectedKeys":e(b),onSelect:e(g)},{default:l(()=>[(a(!0),f(L,null,Q(e(u),d=>(a(),f(L,null,[d.hideInMenu?_("",!0):(a(),h(We,{key:d.path,item:d},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Ot=["src"],Nt={key:0},Dt={class:"flex-1 of-x-hidden of-y-auto scrollbar"},ze=M({__name:"index",setup(k){const{collapsed:o,leftCollapsed:t,handleCollapsed:p,selectedMenus:y,splitMenus:u,layout:s,logo:i,theme:m,title:b,collapsedWidth:g,siderWidth:v,headerHeight:C,fixedSider:c,isMobile:n}=O(),d=N("ant-pro-sider"),F=T(()=>({paddingTop:`${s.value!=="side"&&!n.value?C.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"})),A=T(()=>({[d.value]:!0,[`${d.value}-fixed`]:c.value,[`${d.value}-layout-${s.value}`]:!!s.value})),V=T(()=>(s.value==="side"||n.value)&&s.value!=="mix");return(Y,B)=>{const H=ne,Z=X,ee=dt;return a(),f(L,null,[e(c)?(a(),f("div",{key:0,style:U({width:e(o)?`${e(g)}px`:`${e(v)}px`,maxWidth:e(o)?`${e(g)}px`:`${e(v)}px`,minWidth:e(o)?`${e(g)}px`:`${e(v)}px`,...e(F)})},null,4)):_("",!0),!e(u)||(e(y)??[]).length>0?(a(),h(ee,{key:1,theme:e(m)==="inverted"?"dark":"light",collapsed:e(o)&&!e(n),trigger:null,"collapsed-width":e(g),width:e(v),collapsible:"",class:w(e(A)),style:U(e(F))},{default:l(()=>[e(V)?(a(),f("div",{key:0,class:w(["ant-pro-sider-logo",e(o)&&!e(n)?"ant-pro-sider-collapsed":""])},[S("a",null,[S("img",{src:e(i),alt:"logo"},null,8,Ot),!e(o)||e(n)?(a(),f("h1",Nt,$(e(b)),1)):_("",!0)])],2)):_("",!0),S("div",Dt,[r(Ke)]),!e(n)&&e(t)?(a(),f("div",{key:1,class:w(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(m)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[r(Z,{class:"ant-pro-sider-menu",mode:"inline",theme:e(m)==="inverted"?"dark":"light",selectable:!1,onClick:B[0]||(B[0]=ae=>{var K;return(K=e(p))==null?void 0:K(!e(o))})},{default:l(()=>[r(H,null,{icon:l(()=>[e(o)?(a(),h(e(Fe),{key:0})):(a(),h(e(re),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):_("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):_("",!0)],64)}}});const xt=M({__name:"index",setup(k){const{mobileCollapsed:o,siderWidth:t}=O();return(p,y)=>{const u=Ue;return a(),h(u,{open:e(o),"onUpdate:open":y[0]||(y[0]=s=>Je(o)?o.value=s:null),closable:!1,placement:"left",width:e(t)},{default:l(()=>[r(ze)]),_:1},8,["open","width"])}}}),Et=M({__name:"split-menu",setup(k){const{splitState:o,menuData:t,handleSplitSelectedKeys:p}=O(),y=T(()=>{var u;return(u=t.value)==null?void 0:u.map(s=>({...Oe(s,["children"]),childrenCount:(s.children??[]).length}))});return(u,s)=>{const i=X;return a(),h(i,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(o).selectedKeys,"onUpdate:selectedKeys":e(p)},{default:l(()=>[(a(!0),f(L,null,Q(e(y),m=>(a(),f(L,null,[m.hideInMenu?_("",!0):(a(),h(We,{key:m.path,item:m,link:m.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}});const It={key:0,href:"https://beian.miit.gov.cn/",target:"_blank"},Vt=M({name:"GlobalFooter",__name:"index",props:{copyright:{},icp:{}},setup(k){const o=N("ant-pro-global-footer");return(t,p)=>(a(),f("div",{class:w(e(o))},[t.$slots.renderFooterLinks?(a(),f("div",{key:0,class:w(`${e(o)}-links`)},[P(t.$slots,"renderFooterLinks")],2)):_("",!0),t.copyright?(a(),f("div",{key:1,class:w(`${e(o)}-copyright`)},[t.icp?(a(),f("a",It,$(t.icp),1)):_("",!0),R(),r(e(rt)),R(" "+$(t.copyright),1)],2)):_("",!0)],2))}});const jt={"onUpdate:openKeys":te(),"onUpdate:selectedKeys":te(),onMenuSelect:te()},qt={layout:D("mix"),logo:D(),title:D(),collapsedWidth:se(48),siderWidth:se(234),headerHeight:se(48),menuData:ie(),fixedHeader:W(!1),fixedSider:W(!0),splitMenus:W(),collapsed:W(!1),leftCollapsed:W(!1),theme:D("light"),onCollapsed:te(),isMobile:W(),contentWidth:D(),header:W(!0),footer:W(!0),menu:W(!0),menuHeader:W(!0),openKeys:ie(),selectedKeys:ie(),copyright:D(),...jt},Gt=["data-theme"],Jt=M({name:"BasicLayout",__name:"index",props:qt,emits:["update:collapsed"],setup(k,{emit:o}){const t=k,p=o;function y(i){var m;p("update:collapsed",i),(m=t==null?void 0:t.onCollapsed)==null||m.call(t,i)}const{hasPageContainer:u}=je(t,{handleCollapsed:y}),s=T(()=>{const i=["h-full flex flex-col flex-1"];return t.contentWidth==="Fluid"||u.value?i.push("w-full"):t.contentWidth==="Fixed"&&!u.value&&i.push("max-w-1200px w-1200px","mx-auto"),i});return(i,m)=>{const b=ct,g=Tt,v=pt,C=ut;return a(),f("div",{class:"ant-pro-basicLayout","data-theme":i.theme},[r(C,null,{default:l(()=>[i.menu?(a(),f(L,{key:0},[i.layout!=="top"&&!i.isMobile?(a(),h(ze,{key:0})):_("",!0)],64)):_("",!0),r(C,null,{default:l(()=>[i.header?(a(),h(Kt,{key:0},I({_:2},[i.$slots.headerActions?{name:"headerActions",fn:l(()=>[P(i.$slots,"headerActions")]),key:"0"}:void 0,i.$slots.headerContent||i.layout==="top"||i.layout==="mix"?{name:"headerContent",fn:l(()=>[P(i.$slots,"headerContent",{},()=>[!i.isMobile&&i.layout==="top"?(a(),h(Ke,{key:0})):_("",!0),!i.isMobile&&i.layout==="mix"&&t.splitMenus?(a(),h(Et,{key:1})):_("",!0)])]),key:"1"}:void 0]),1024)):_("",!0),P(i.$slots,"contentPrefix"),r(b,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:l(()=>[S("div",{class:w(e(s))},[P(i.$slots,"default")],2)]),_:3}),i.footer?(a(),h(v,{key:1,style:{"background-color":"transparent"}},{default:l(()=>[P(i.$slots,"footerRender",{},()=>[r(Vt,{copyright:i.copyright},I({_:2},[i.$slots.renderFooterLinks?{name:"renderFooterLinks",fn:l(()=>[r(g)]),key:"0"}:void 0]),1032,["copyright"])])]),_:3})):_("",!0)]),_:3})]),_:3}),i.menu?(a(),h(xt,{key:0})):_("",!0)],8,Gt)}}});const Qt={"mb-24px":""},Xt={"font-500":"","mb-12px":"","text-14px":"","line-height-22px":""},x=M({__name:"body",props:{title:{}},setup(k){return(o,t)=>(a(),f("div",Qt,[S("h3",Xt,$(o.title),1),P(o.$slots,"default")]))}}),E=M({__name:"block-checkbox",props:{theme:{},isDark:{type:Boolean},checked:{type:Boolean},t:{type:Function}},setup(k){const o=k,t=N("ant-pro-drawer-setting-block-checkbox"),p=T(()=>({[`${t.value}-item`]:!0,[`${t.value}-theme-item`]:o.isDark,[`${t.value}-item-${o.theme}`]:!!o.theme,[`${t.value}-theme-item-${o.theme}`]:o.isDark})),{token:y}=Ce();return(u,s)=>{const i=oe;return a(),h(i,null,{title:l(()=>{var m;return[R($((m=u.t)==null?void 0:m.call(u,`app.setting.pagestyle.${u.theme}`??"")),1)]}),default:l(()=>{var m;return[S("div",{class:w(e(p))},[Le(r(e(Pe),{style:U({color:(m=e(y))==null?void 0:m.colorPrimary}),class:w(`${e(t)}-selectIcon`)},null,8,["style","class"]),[[Be,u.checked]])],2)]}),_:1})}}}),Yt=["onClick"],Zt=M({__name:"theme-color",props:{colorList:{},color:{},onChange:{type:Function},t:{type:Function}},setup(k){const o=N("ant-pro-drawer-setting-theme-color");return(t,p)=>{const y=oe;return a(),f("div",{class:w(`${e(o)}`)},[S("div",{class:w(`${e(o)}-content`)},[(a(!0),f(L,null,Q(t.colorList,u=>(a(),h(y,{key:u.color},{title:l(()=>{var s;return[R($((s=t.t)==null?void 0:s.call(t,`app.setting.themecolor.${u.key}`)),1)]}),default:l(()=>[S("div",{class:w(`${e(o)}-block`),style:U({backgroundColor:u.color}),onClick:s=>{var i;return(i=t.onChange)==null?void 0:i.call(t,u.color)}},[Le(r(e(Pe),null,null,512),[[Be,t.color===u.color]])],14,Yt)]),_:2},1024))),128))],2)],2)}}}),en=M({__name:"layout-setting",props:{contentWidth:{},layout:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(k,{emit:o}){const t=k,p=o,y=T(()=>[{title:"内容区域宽度",key:"contentWidth",disabled:!1,disabledReason:""},{title:"固定 Header",key:"fixedHeader",disabled:t.layout==="mix",disabledReason:""},{title:"固定侧边菜单",key:"fixSiderbar",disabled:!1,disabledReason:""},{title:"自动分割菜单",key:"splitMenus",disabled:t.layout!=="mix",disabledReason:""},{title:"缓存功能",key:"keepAlive",disabled:!1,disabledReason:""},{title:"菜单手风琴模式",key:"accordionMode",disabled:!1,disabledReason:""},{title:"侧边菜单折叠 左侧",key:"leftCollapsed",disabled:t.layout!=="side",disabledReason:""}]);function u(s,i){p("changeSetting",s,i)}return(s,i)=>{const m=mt,b=Ae,g=ce,v=pe,C=oe,c=me;return a(),h(c,{"data-source":e(y),split:!1},{renderItem:l(({item:n})=>[r(C,{title:n.disabled?n.disabledReason:"",placement:"left"},{default:l(()=>[r(v,null,{actions:l(()=>[n.key==="contentWidth"?(a(),h(b,{key:0,size:"small",disabled:n.disabled,value:s.contentWidth||"Fluid","onUpdate:value":i[0]||(i[0]=d=>u("contentWidth",d))},{default:l(()=>[s.layout==="top"?(a(),h(m,{key:0,value:"Fixed"},{default:l(()=>{var d;return[R($(((d=s.t)==null?void 0:d.call(s,"app.setting.content-width.fixed"))??"Fixed"),1)]}),_:1})):_("",!0),r(m,{value:"Fluid"},{default:l(()=>{var d;return[R($(((d=s.t)==null?void 0:d.call(s,"app.setting.content-width.fluid"))??"Fluid"),1)]}),_:1})]),_:2},1032,["disabled","value"])):_("",!0),n.key==="fixedHeader"?(a(),h(g,{key:1,size:"small",checked:s.fixedHeader,disabled:n.disabled,"onUpdate:checked":i[1]||(i[1]=d=>u("fixedHeader",d))},null,8,["checked","disabled"])):_("",!0),n.key==="fixSiderbar"?(a(),h(g,{key:2,size:"small",checked:s.fixedSider,disabled:n.disabled,"onUpdate:checked":i[2]||(i[2]=d=>u("fixedSider",d))},null,8,["checked","disabled"])):_("",!0),n.key==="splitMenus"?(a(),h(g,{key:3,size:"small",checked:s.splitMenus,disabled:n.disabled,"onUpdate:checked":i[3]||(i[3]=d=>u("splitMenus",d))},null,8,["checked","disabled"])):_("",!0),n.key==="keepAlive"?(a(),h(g,{key:4,size:"small",checked:s.keepAlive,disabled:n.disabled,"onUpdate:checked":i[4]||(i[4]=d=>u("keepAlive",d))},null,8,["checked","disabled"])):_("",!0),n.key==="accordionMode"?(a(),h(g,{key:5,size:"small",checked:s.accordionMode,disabled:n.disabled,"onUpdate:checked":i[5]||(i[5]=d=>u("accordionMode",d))},null,8,["checked","disabled"])):_("",!0),n.key==="leftCollapsed"?(a(),h(g,{key:6,size:"small",checked:s.leftCollapsed,disabled:n.disabled,"onUpdate:checked":i[6]||(i[6]=d=>u("leftCollapsed",d))},null,8,["checked","disabled"])):_("",!0)]),default:l(()=>{var d;return[S("span",{style:U({opacity:n.disabled?"0.5":"1"})},$(((d=s.t)==null?void 0:d.call(s,`app.setting.content-width.${n.key}`,n.title))??n.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),tn=M({__name:"regional-setting",props:{layout:{},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},watermark:{type:Boolean},menuHeader:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},t:{type:Function}},emits:["changeSetting"],setup(k,{emit:o}){const t=k,p=o,y=T(()=>[{title:"动画",key:"animationName",disabled:!1,disabledReason:""},{title:"水印aa",key:"watermark",disabled:!1,disabledReason:""},{title:"顶栏",key:"header",disabled:!1,disabledReason:""},{title:"页脚",key:"footer",disabled:!1,disabledReason:""},{title:"菜单",key:"menu",disabled:t.layout==="top",disabledReason:""},{title:"菜单头",key:"menuHeader",disabled:!1,disabledReason:""},{title:"多页签",key:"multiTab",disabled:!1,disabledReason:""},{title:"固定多页签",key:"multiTabFixed",disabled:!1,disabledReason:"多页签开启后功能正常使用"}]);function u(s,i){p("changeSetting",s,i)}return(s,i)=>{const m=ce,b=Ae,g=pe,v=oe,C=me;return a(),h(C,{"data-source":e(y),split:!1},{renderItem:l(({item:c})=>[r(v,{title:c.disabled?c.disabledReason:"",placement:"left"},{default:l(()=>[r(g,null,{actions:l(()=>[c.key!=="animationName"?(a(),h(m,{key:0,size:"small",checked:t[c.key],disabled:c.disabled,"onUpdate:checked":n=>u(c.key,n)},null,8,["checked","disabled","onUpdate:checked"])):(a(),h(b,{key:1,style:{width:"120px"},value:s.animationName,options:s.animationNameList,size:"small","onUpdate:value":n=>u(c.key,n)},null,8,["value","options","onUpdate:value"]))]),default:l(()=>{var n;return[S("span",{style:U({opacity:c.disabled?"0.5":"1"})},$(((n=s.t)==null?void 0:n.call(s,`app.setting.content-area.${c.key}`,c.title))??c.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),nn=M({__name:"other-setting",props:{colorWeak:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(k,{emit:o}){const t=o,p=T(()=>[{title:"色弱模式",key:"colorWeak",disabled:!1,disabledReason:""}]);function y(u){t("changeSetting","colorWeak",u);const s=document.querySelector("body");s&&(u?(s.dataset.prosettingdrawer=s.style.filter,s.style.filter="invert(80%)"):(s.style.filter=s.dataset.prosettingdrawer||"none",delete s.dataset.prosettingdrawer))}return(u,s)=>{const i=ce,m=pe,b=me;return a(),h(b,{"data-source":e(p),split:!1},{renderItem:l(({item:g})=>[r(m,null,{actions:l(()=>[r(i,{size:"small",checked:u.colorWeak,disabled:g.disabled,"onUpdate:checked":y},null,8,["checked","disabled"])]),default:l(()=>{var v;return[S("span",{style:U({opacity:g.disabled?"0.5":"1"})},$(((v=u.t)==null?void 0:v.call(u,"app.setting.weakmode",g.title))??g.title),5)]}),_:2},1024)]),_:1},8,["data-source"])}}}),on={flex:"","gap-2":"","flex-col":""},an=M({name:"SettingDrawer",__name:"index",props:{open:{type:Boolean},theme:{default:"light"},colorPrimary:{},colorList:{default:()=>[{key:"techBlue",color:"#1677FF"},{key:"daybreak",color:"#1890ff"},{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"}]},layout:{},contentWidth:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},watermark:{type:Boolean},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},menuHeader:{type:Boolean},colorWeak:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},layoutSetting:{},t:{}},emits:["update:open","settingChange"],setup(k,{emit:o}){const t=k,p=o,{copy:y}=St(),u=N("ant-pro-drawer-setting"),{message:s}=Ne();function i(){var n;y(JSON.stringify(t.layoutSetting??{})),s==null||s.success((n=t==null?void 0:t.t)==null?void 0:n.call(t,"app.setting.copyinfo","拷贝成功，请到 config/default-settings.js 中替换默认配置"))}function m(n){p("update:open",n)}function b(n){p("settingChange","theme",n)}function g(n){p("settingChange","colorPrimary",n)}function v(n){p("settingChange","layout",n)}function C(n,d){p("settingChange",n,d)}const{token:c}=Ce();return(n,d)=>{var Z,ee,ae;const F=ht,A=J("NotificationOutlined"),V=yt,Y=J("CopyOutlined"),B=ft,H=Ue;return a(),f(L,null,[S("div",{class:w(`${e(u)}-handle`),style:U({backgroundColor:(Z=e(c))==null?void 0:Z.colorPrimary,borderEndStartRadius:`${(ee=e(c))==null?void 0:ee.borderRadius}px`,borderStartStartRadius:`${(ae=e(c))==null?void 0:ae.borderRadius}px`}),onClick:d[0]||(d[0]=K=>m(!n.open))},[n.open?(a(),h(e(ue),{key:0,class:w(`${e(u)}-handle-icon${n.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),h(e(be),{key:1,class:w(`${e(u)}-handle-icon${n.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6),r(H,{open:n.open,width:300,placement:"right",closable:!1,"onUpdate:open":m},{handle:l(()=>{var K,j,q;return[S("div",{class:w(`${e(u)}-handle`),style:U({position:"absolute",top:"240px",right:"300px",backgroundColor:(K=e(c))==null?void 0:K.colorPrimary,borderEndStartRadius:`${(j=e(c))==null?void 0:j.borderRadius}px`,borderStartStartRadius:`${(q=e(c))==null?void 0:q.borderRadius}px`}),onClick:d[1]||(d[1]=le=>m(!n.open))},[n.open?(a(),h(e(ue),{key:0,class:w(`${e(u)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),h(e(be),{key:1,class:w(`${e(u)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6)]}),default:l(()=>{var K,j,q,le,ye;return[S("div",{class:w(`${e(u)}-content`)},[r(x,{title:((K=n.t)==null?void 0:K.call(n,"app.setting.pagestyle"))??"整体风格设计"},{default:l(()=>[S("div",{class:w(`${e(u)}-block-checkbox`)},[r(E,{t:n.t,checked:t.theme==="light",theme:"light","is-dark":t.theme==="dark",onClick:d[2]||(d[2]=z=>b("light"))},null,8,["t","checked","is-dark"]),n.layout!=="mix"?(a(),h(E,{key:0,t:n.t,checked:t.theme==="inverted",theme:"inverted","is-dark":t.theme==="dark",onClick:d[3]||(d[3]=z=>b("inverted"))},null,8,["t","checked","is-dark"])):_("",!0),r(E,{t:n.t,checked:t.theme==="dark",theme:"dark","is-dark":t.theme==="dark",onClick:d[4]||(d[4]=z=>b("dark"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),r(x,{title:((j=n.t)==null?void 0:j.call(n,"app.setting.themecolor"))??"主题色"},{default:l(()=>[r(Zt,{t:n.t,"color-list":n.colorList,color:n.colorPrimary,onChange:g},null,8,["t","color-list","color"])]),_:1},8,["title"]),r(F),r(x,{title:((q=n.t)==null?void 0:q.call(n,"app.setting.pagestyle.mode"))??"导航模式"},{default:l(()=>[S("div",{class:w(`${e(u)}-block-checkbox`)},[r(E,{t:n.t,theme:"side",checked:n.layout==="side","is-dark":t.theme==="dark",onClick:d[5]||(d[5]=z=>v("side"))},null,8,["t","checked","is-dark"]),r(E,{t:n.t,theme:"top",checked:n.layout==="top","is-dark":t.theme==="dark",onClick:d[6]||(d[6]=z=>v("top"))},null,8,["t","checked","is-dark"]),r(E,{t:n.t,theme:"mix",checked:n.layout==="mix","is-dark":t.theme==="dark",onClick:d[7]||(d[7]=z=>v("mix"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),r(en,{layout:n.layout,t:n.t,"content-width":n.contentWidth,"fixed-header":n.fixedHeader,"fixed-sider":n.fixedSider,"split-menus":n.splitMenus,"keep-alive":n.keepAlive,"accordion-mode":n.accordionMode,"left-collapsed":n.leftCollapsed,onChangeSetting:C},null,8,["layout","t","content-width","fixed-header","fixed-sider","split-menus","keep-alive","accordion-mode","left-collapsed"]),r(F),r(x,{title:((le=n.t)==null?void 0:le.call(n,"app.setting.content-area.title"))??"内容区域"},{default:l(()=>[r(tn,{t:n.t,layout:n.layout,header:n.header,watermark:n.watermark,"menu-header":n.menuHeader,footer:n.footer,"animation-name":n.animationName,"animation-name-list":n.animationNameList,"multi-tab":n.multiTab,"multi-tab-fixed":n.multiTabFixed,menu:n.menu,onChangeSetting:C},null,8,["t","layout","header","watermark","menu-header","footer","animation-name","animation-name-list","multi-tab","multi-tab-fixed","menu"])]),_:1},8,["title"]),r(F),r(x,{title:((ye=n.t)==null?void 0:ye.call(n,"app.setting.othersettings"))??"其他设置"},{default:l(()=>[r(nn,{t:n.t,"color-weak":n.colorWeak,onChangeSetting:C},null,8,["t","color-weak"])]),_:1},8,["title"]),r(F),r(x,null,{default:l(()=>{var z;return[S("div",on,[r(V,{type:"warning","show-icon":"",message:((z=n.t)==null?void 0:z.call(n,"app.setting.production.hint"))??"配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件"},{icon:l(()=>[r(A)]),_:1},8,["message"]),r(B,{onClick:i},{default:l(()=>{var fe;return[r(Y),R(" "+$((fe=n.t)==null?void 0:fe.call(n,"app.setting.copy","拷贝设置")),1)]}),_:1})])]}),_:1})],2)]}),_:1},8,["open"])],64)}}});const ln=["onClick"],sn=["onClick"],dn=S("div",{class:"w-24px"},null,-1),rn={class:"w-48px flex item-center justify-center"},un=M({__name:"index",setup(k){const o=Se(),{list:t,activeKey:p}=G(o),{layoutSetting:y}=G(we()),u=T(()=>{const c={};return y.value.multiTabFixed&&(c.position="fixed",c.top=`${y.value.headerHeight}px`,c.zIndex=1),c}),s=N(),{height:i}=Qe(s);function m({key:c},n){c==="closeCurrent"?o.close(p.value):c==="closeLeft"?o.closeLeft(n):c==="closeRight"?o.closeRight(n):c==="closeOther"?o.closeOther(n):c==="refresh"&&o.refresh(p.value)}const b=T(()=>t.value.length===1||t.value.filter(c=>!c.affix).length<=1);function g(c){return t.value.findIndex(d=>d.fullPath===c)===0||t.value.filter(d=>!d.affix).length<=1}function v(c){return t.value.findIndex(d=>d.fullPath===c)===t.value.length-1||t.value.filter(d=>!d.affix).length<=1}const C=T(()=>t.value.length===1||t.value.filter(c=>!c.affix).length<=1);return De(c=>{if(c.fullPath.startsWith("/redirect"))return;const n=t.value.find(d=>d.fullPath===c.fullPath);c.fullPath===p.value&&!(n!=null&&n.loading)||(p.value=c.fullPath,o.addItem(c))},!0),Xe(()=>{xe()}),(c,n)=>{const d=ne,F=X,A=Te,V=gt,Y=bt;return a(),f(L,null,[e(y).multiTabFixed?(a(),f("div",{key:0,style:U({height:`${e(i)+10}px`})},null,4)):_("",!0),r(Y,{ref_key:"tabsRef",ref:s,"active-key":e(p),style:U(e(u)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(o).switchTab},{leftExtra:l(()=>[dn]),rightExtra:l(()=>[S("div",rn,[r(A,{trigger:["hover"]},{overlay:l(()=>[r(F,{onClick:n[0]||(n[0]=B=>m(B,e(p)))},{default:l(()=>[r(d,{key:"closeOther",disabled:e(b)||e(C)},{default:l(()=>[R($(c.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),r(d,{key:"refresh"},{default:l(()=>[R($(c.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:l(()=>[r(e(kt),{class:"text-16px"})]),_:1})])]),default:l(()=>[(a(!0),f(L,null,Q(e(t),B=>(a(),h(V,{key:B.fullPath},{tab:l(()=>[r(A,{trigger:["contextmenu"]},{overlay:l(()=>[r(F,{onClick:H=>m(H,B.fullPath)},{default:l(()=>[r(d,{key:"closeCurrent",disabled:e(b)||e(p)!==B.fullPath},{default:l(()=>[R($(c.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),r(d,{key:"closeLeft",disabled:e(b)||g(B.fullPath)},{default:l(()=>[R($(c.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),r(d,{key:"closeRight",disabled:e(b)||v(B.fullPath)},{default:l(()=>[R($(c.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),r(d,{key:"closeOther",disabled:e(b)||e(C)},{default:l(()=>[R($(c.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),r(d,{key:"refresh",disabled:!e(b)},{default:l(()=>[R($(c.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:l(()=>[S("div",null,[R($(B.locale?c.$t(B.locale):B.title)+" ",1),e(p)===B.fullPath?(a(),f("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:_e(H=>e(o).refresh(B.fullPath),["stop"])},[r(e(_t),{spin:B.loading},null,8,["spin"])],8,ln)):_("",!0),!B.affix&&e(t).length>1?(a(),f("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:_e(H=>e(o).close(B.fullPath),["stop"])},[r(e(ue))],8,sn)):_("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])],64)}}});const cn={xl:1600,lg:1199,md:991,sm:767,xs:575};function pn(){const k=Ye(Ze(cn)),o=k.smaller("sm"),t=k.between("sm","md"),p=k.greater("md");return{breakpoints:k,isMobile:o,isPad:t,isDesktop:p}}const _n=M({name:"ProLayout",__name:"index",setup(k){const o=we(),{layoutSetting:t}=G(o),p=ve(),y=Me(),{t:u}=Ee(),{selectedKeys:s,openKeys:i}=G(y),{isMobile:m,isPad:b}=pn();et(b,C=>{C?o.toggleCollapsed(!0):o.toggleCollapsed(!1)});const g=JSON.parse("true"),v=T(()=>Ve(o.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth"]));return(C,c)=>{const n=Lt,d=J("RouterView"),F=vt;return a(),f(L,null,[r(Jt,ge({collapsed:e(t).collapsed,theme:e(t).theme,"menu-data":e(p).menuData},e(v),{"selected-keys":e(s),"open-keys":e(t).layout==="top"?[]:e(i),copyright:e(t).copyright,"is-mobile":e(m),logo:e(t).logo,title:e(t).title,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,"header-height":e(t).headerHeight,"onUpdate:openKeys":e(y).handleOpenKeys,"onUpdate:selectedKeys":e(y).handleSelectedKeys,"onUpdate:collapsed":e(o).toggleCollapsed}),{headerActions:l(()=>[r(n),e(m)?_("",!0):(a(),f(L,{key:0},[],64))]),contentPrefix:l(()=>[e(t).multiTab?(a(),h(un,{key:0})):_("",!0)]),renderFooterLinks:l(()=>[]),default:l(()=>[r(F,{"h-full":"",flex:"","flex-col":"","flex-1":"",content:e(t).watermark?e(t).title??"Antdv Pro":""},{default:l(()=>[r(d,null,{default:l(({Component:A})=>[(a(),h(Re(A)))]),_:1})]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),e(g)?(a(),h(an,ge({key:0,open:e(t).drawerVisible,"onUpdate:open":c[0]||(c[0]=A=>e(t).drawerVisible=A),t:e(u),theme:e(t).theme,"color-primary":e(t).colorPrimary,"color-weak":e(t).colorWeak,"multi-tab":e(t).multiTab,"multi-tab-fixed":e(t).multiTabFixed,"animation-name-list":e(Ie),"animation-name":e(t).animationName,"keep-alive":e(t).keepAlive,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,watermark:e(t).watermark},e(v),{"layout-setting":e(t),onSettingChange:e(o).changeSettingLayout}),null,16,["open","t","theme","color-primary","color-weak","multi-tab","multi-tab-fixed","animation-name-list","animation-name","keep-alive","accordion-mode","left-collapsed","watermark","layout-setting","onSettingChange"])):_("",!0)],64)}}});export{_n as default};

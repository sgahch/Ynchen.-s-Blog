import{_ as z}from"./index-77ed39d5.js";import{A as I,r as p,f as N,E as b,B as x,a5 as A,o as _,c as g,q as o,y as n,l,u as s,x as d,aj as M,F as R,p as S,b as $,H as j,ax as H,I as T,ay as G,az as J,ab as K,aA as O,k as P,i as Q,t as k,ak as W}from"./.pnpm-a60ec0da.js";import{_ as X}from"./index-03ebed95.js";import{h as V,_ as Y}from"./index-f983387b.js";function Z(f){return V({url:"/link/auth/apply",method:"post",data:f})}function ee(){return V({url:"/link/list",method:"get"})}const le={class:"form"},te={style:{width:"100%",display:"flex","flex-direction":"row-reverse"}},oe={class:"content"},ne={class:"header"},se={class:"link"},re={class:"content_link"},ae={class:"name"},ie=["href"],de={class:"description"},ue=I({__name:"index",setup(f){const u=p(!1);N(()=>{w()});const c=p();function w(){ee().then(i=>{i.code===200?c.value=i.data:b.error(i.msg)})}const r=x({name:"",url:"",description:"",background:"",email:"",type:"1"}),v=p(),E=x({name:[{required:!0,message:"请填写网站名称",trigger:"blur"},{min:3,max:15,message:"长度小3，最大15",trigger:"blur"}],url:[{required:!0,message:"请填写网站地址",trigger:"blur"},{min:3,max:50,message:"长度小3，最大50",trigger:"blur"}],description:[{required:!0,message:"请填写网站描述",trigger:"blur"},{min:3,max:30,message:"长度小3，最大15",trigger:"blur"}],background:[{required:!0,message:"请填写友链背景图链接",trigger:"blur"},{min:3,max:100,message:"长度小3，最大100",trigger:"blur"}],email:[{required:!0,message:"请填写电子邮件地址",trigger:"blur"},{min:3,max:20,message:"长度小3，最大15",trigger:"blur"}]});function h(){var i;(i=v.value)==null||i.validate(async e=>{if(e)await Z(r).then(a=>{a.code===200?($({title:"成功",showClose:!1,duration:6e3,message:"友链申请提交成功，待通过审核后会通过邮件通知您，请注意查收",type:"success"}),u.value=!1):b.error(a.msg)});else return!1})}return(i,e)=>{const a=j,m=H,y=T,F=G,q=J,B=X,U=K,C=W,D=z,L=A("slide-in");return _(),g("div",null,[o(q,{modelValue:s(u),"onUpdate:modelValue":e[5]||(e[5]=t=>M(u)?u.value=t:null),title:"申请友链",width:"35%",style:{"border-radius":"15px"},"close-on-click-modal":!1,"lock-scroll":!1},{default:n(()=>[l("div",le,[e[13]||(e[13]=l("div",{style:{display:"flex","align-items":"center","margin-bottom":"1rem"}},null,-1)),o(F,{model:s(r),ref_key:"ruleFormRef",ref:v,rules:s(E)},{default:n(()=>[o(m,{prop:"name"},{default:n(()=>[o(a,{modelValue:s(r).name,"onUpdate:modelValue":e[0]||(e[0]=t=>s(r).name=t),placeholder:"请输入网站名称",maxlength:"15","show-word-limit":""},{prepend:n(()=>e[7]||(e[7]=[d(" 网站名称 ")])),_:1},8,["modelValue"])]),_:1}),o(m,{prop:"url"},{default:n(()=>[o(a,{modelValue:s(r).url,"onUpdate:modelValue":e[1]||(e[1]=t=>s(r).url=t),placeholder:"请输入网站地址",maxlength:"50","show-word-limit":""},{prepend:n(()=>e[8]||(e[8]=[d(" 网站地址 ")])),_:1},8,["modelValue"])]),_:1}),o(m,{prop:"description"},{default:n(()=>[o(a,{modelValue:s(r).description,"onUpdate:modelValue":e[2]||(e[2]=t=>s(r).description=t),placeholder:"请输入网站描述",maxlength:"30","show-word-limit":""},{prepend:n(()=>e[9]||(e[9]=[d(" 网站描述 ")])),_:1},8,["modelValue"])]),_:1}),o(m,{prop:"background"},{default:n(()=>[o(a,{modelValue:s(r).background,"onUpdate:modelValue":e[3]||(e[3]=t=>s(r).background=t),placeholder:"请提供http地址",maxlength:"100","show-word-limit":""},{prepend:n(()=>e[10]||(e[10]=[d(" 背景图片 ")])),_:1},8,["modelValue"])]),_:1}),o(m,{prop:"email"},{default:n(()=>[o(a,{modelValue:s(r).email,"onUpdate:modelValue":e[4]||(e[4]=t=>s(r).email=t),placeholder:"填写邮箱地址",maxlength:"20","show-word-limit":""},{prepend:n(()=>e[11]||(e[11]=[d(" 邮箱地址 ")])),_:1},8,["modelValue"])]),_:1}),l("div",te,[o(y,{type:"primary",plain:"",onClick:h},{default:n(()=>e[12]||(e[12]=[d("提交申请")])),_:1})])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),o(D,{"only-father-container":""},{banner:n(()=>[o(B,{title:"友链",subtitle:"link"})]),content:n(()=>[l("div",oe,[l("div",ne,[e[15]||(e[15]=l("div",{class:"title"},"友链",-1)),o(y,{type:"primary",icon:s(O),plain:"",onClick:e[6]||(e[6]=t=>u.value=!0),style:{"margin-right":"1rem"}},{default:n(()=>e[14]||(e[14]=[d("申请友链")])),_:1},8,["icon"])]),o(U),e[16]||(e[16]=l("div",{class:"title_content"},[l("span",{style:{"font-size":"1rem",color:"grey"}},"欢迎访问友链板块！"),l("span",null,"友链板块是一个旨在促进不同系统间相互协作和交流的平台。通过友链板块，您可以："),l("span",null,"1、分享自己系统的介绍和链接。"),l("span",null,"2、发现更多的优秀博客网站。"),l("span",{style:{"font-size":"1rem",color:"grey"}},"注意："),l("span",null,"1、友链申请前必须先登录本网站，申请通过后会通过邮件的形式通知你。"),l("span",null,"2、点击网站的名称进行友链跳转。")],-1)),l("div",se,[(_(!0),g(R,null,S(s(c),t=>P((_(),g("div",{key:t.id,class:"item"},[l("div",{class:"bg",style:Q({background:`url(${t.background})`})},null,4),l("div",re,[l("div",null,[o(C,{src:t.avatar},null,8,["src"]),l("div",ae,[l("a",{href:t.url},k(t.name),9,ie)])]),l("div",de,k(t.description),1)])])),[[L]])),128))])])]),_:1})])}}});const fe=Y(ue,[["__scopeId","data-v-f5b33f1d"]]);export{fe as default};

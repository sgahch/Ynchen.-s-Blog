import{A as x,r,f as y,o as H,c as w,l as e,k as p,ai as b,u as l,aj as v,v as T,q as _,y as k,t as f,E as i,ak as S,al as B}from"./.pnpm-a60ec0da.js";import{h as m,_ as E}from"./index-f983387b.js";const C=d=>m.post("/treeHole/auth/addTreeHole",JSON.stringify({content:d}),{method:"post"}),L=()=>m.get("/treeHole/getTreeHoleList",{method:"get"}),M={class:"container"},N={class:"content_container"},V={class:"barrage_container"},A=x({__name:"index",setup(d){const a=r([]),u=r(!1),s=r("");y(()=>{c()});function g(){if(s.value===""){i.warning("请输入内容");return}C(s.value).then(o=>{o.code===200?(i.success("添加成功"),c(),s.value=""):i.error(o.msg)})}function c(){L().then(o=>{o.code===200&&(a.value=o.data)})}return(o,t)=>{const h=S;return H(),w("div",M,[e("div",N,[t[4]||(t[4]=e("div",null,"树洞",-1)),e("div",null,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>v(s)?s.value=n:null),onFocus:t[1]||(t[1]=n=>u.value=!0),type:"text",placeholder:"在这里留下自己的足迹吧..."},null,544),[[b,l(s)]]),p(e("button",{onClick:g},t[3]||(t[3]=[e("span",{style:{color:"grey","font-style":"italic","font-weight":"bold"}},"提交",-1)]),512),[[T,l(u)]])])]),_(l(B),{debounce:3e3,"random-channel":"",speeds:80,channels:5,"is-suspend":"",danmus:l(a),"onUpdate:danmus":t[2]||(t[2]=n=>v(a)?a.value=n:null),"use-slot":"",loop:"",style:{height:"100vh",width:"100vw"}},{dm:k(({danmu:n})=>[e("div",V,[e("div",null,[_(h,{src:n.avatar},null,8,["src"])]),e("div",null,[e("span",null,f(n.nickname)+"：",1),e("span",null,f(n.content),1)])])]),_:1},8,["danmus"])])}}});const j=E(A,[["__scopeId","data-v-965d76fb"]]);export{j as default};

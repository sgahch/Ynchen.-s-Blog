import{i as b,l as w,S as h,r as k,a as C,_ as N}from"./index-f983387b.js";import{A as O,r as U,B as A,o as B,c as D,l as n,q as t,y as o,u as r,C as L,x as p,E as y,as as M,H as $,ax as F,aJ as K,J as P,at as z,K as q,ay as J,I as Y,ab as H,aK as j,aL as G}from"./.pnpm-a60ec0da.js";const Q={style:{"text-align":"center",margin:"0 20px"}},W={style:{"margin-top":"50px"}},X={style:{"margin-top":"30px"}},Z={class:"other_login"},ee={style:{"margin-left":"1rem"}},te=O({__name:"index",setup(oe){const u=U(),a={VITE_APP_BASE_API:"/api",VITE_SERVE:"",VITE_FRONTEND_URL:"",VITE_MUSIC_BASE_API:"/wapi",VITE_MUSIC_SERVE:"",VITE_MUSIC_FRONTEND_URL:"",VITE_YIYAN_API:"",VITE_ENABLE_DEV_TOOLSBLOCKER:"true",VITE_USER_NODE_ENV:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},l=A({username:"",password:"",remember:!1}),I={username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}]},c=b();function m(){u.value.validate(d=>{d&&w(l).then(e=>{e.code===200?(h(e.data.token,e.data.expire,l.remember),y.success("登录成功"),k.push("/"),c.getInfo()):y.error(e.msg)})})}return(d,e)=>{const E=M,f=$,i=F,S=K,g=P,_=z,T=q,R=J,x=Y,V=H,v=C;return B(),D("div",Q,[e[12]||(e[12]=n("div",{style:{"margin-top":"150px"}},[n("div",{style:{"font-size":"25px","font-weight":"bold"}},"登录"),n("div",{style:{"font-size":"14px",color:"grey","margin-top":"1rem"}},"用户密码使用键式哈希算法加密，请放心注册")],-1)),n("div",W,[t(R,{model:l,rules:I,ref_key:"formRef",ref:u},{default:o(()=>[t(i,{prop:"username"},{default:o(()=>[t(f,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=s=>l.username=s),maxlength:"20",type:"text",placeholder:"用户名/邮箱"},{prefix:o(()=>[t(E,null,{default:o(()=>[t(r(j))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(i,{prop:"password"},{default:o(()=>[t(f,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=s=>l.password=s),type:"password",maxlength:"20",placeholder:"密码",onKeyup:e[2]||(e[2]=L(s=>m(),["enter"]))},{prefix:o(()=>[t(E,null,{default:o(()=>[t(r(G))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(T,null,{default:o(()=>[t(g,{span:12,style:{"text-align":"left"}},{default:o(()=>[t(i,{prop:"remember"},{default:o(()=>[t(S,{modelValue:l.remember,"onUpdate:modelValue":e[3]||(e[3]=s=>l.remember=s),label:"记住我"},null,8,["modelValue"])]),_:1})]),_:1}),t(g,{span:12,style:{"text-align":"right"}},{default:o(()=>[t(_,{onClick:e[4]||(e[4]=s=>d.$router.push("/reset"))},{default:o(()=>e[7]||(e[7]=[p("忘记密码")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),n("div",X,[t(x,{style:{width:"270px"},type:"success",plain:"",onClick:e[5]||(e[5]=s=>m())},{default:o(()=>e[8]||(e[8]=[p("立即登录")])),_:1})]),t(V,null,{default:o(()=>e[9]||(e[9]=[n("span",{style:{"font-size":"13px",color:"grey"}},"没有账号",-1)])),_:1}),n("div",null,[t(x,{onClick:e[6]||(e[6]=s=>d.$router.push("/register")),style:{width:"270px"},type:"danger",plain:""},{default:o(()=>e[10]||(e[10]=[p("立即注册")])),_:1})]),t(V,null,{default:o(()=>e[11]||(e[11]=[n("span",{style:{"font-size":"13px",color:"grey"}},"其他方式",-1)])),_:1}),n("div",null,[n("div",Z,[n("div",null,[t(_,{href:r(a).MODE==="development"?r(a).VITE_SERVE+"/oauth/gitee/render":r(a).VITE_SERVE+"/api/oauth/gitee/render"},{default:o(()=>[t(v,{name:"gitee",width:"20px",height:"20px",color:"#4E86F1"})]),_:1},8,["href"])]),n("div",ee,[t(_,{href:r(a).MODE==="development"?r(a).VITE_SERVE+"/oauth/github/render":r(a).VITE_SERVE+"/api/oauth/github/render"},{default:o(()=>[t(v,{name:"github",width:"20px",height:"20px",color:"#4E86F1"})]),_:1},8,["href"])])])])])}}});const se=N(te,[["__scopeId","data-v-5b8d2d24"]]);export{se as default};

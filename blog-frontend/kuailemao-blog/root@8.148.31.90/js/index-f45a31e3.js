import{_ as x}from"./index-77ed39d5.js";import{A as L,r as u,f as D,w as E,ag as $,a5 as B,o as i,c as n,q as d,y as f,u as o,l as s,F as y,p as g,j as k,t as v,a2 as M,ah as Y,ab as V,k as j,m as F}from"./.pnpm-a60ec0da.js";import{_ as S}from"./index-03ebed95.js";import{h as T,w as q,_ as z}from"./index-f983387b.js";import{A as I}from"./index-7a9d05b0.js";function Q(){return T.get("/category/list",{method:"get"})}const R={key:0,class:"category_container"},G={class:"item_container"},H=["onClick"],J={key:1,class:"category_container"},K={class:"title"},O={class:"scrollbar-flex-content"},P=["onClick"],U=L({__name:"index",setup(W){const c=M(),r=u([]),m=u([]),l=u(!1),p=u("");D(async()=>{await Q().then(e=>{e.code===200&&(r.value=e.data)}),c.params.id&&(l.value=!0,r.value.forEach(e=>{e.id===Number(c.params.id)?(e.isActive=!0,p.value=e.categoryName):e.isActive=!1}),h(c.params.id))}),E(()=>c.params.id,e=>{e?(l.value=!0,r.value.forEach(t=>{t.id===Number(c.params.id)?(t.isActive=!0,p.value=t.categoryName):t.isActive=!1}),h(e)):l.value=!1});function h(e){q(1,e).then(t=>{t.code===200&&t.data!==void 0?(t.data.forEach(_=>{_.createTime=$(_.createTime).format("YYYY-MM-DD")}),m.value=t.data):m.value=[]})}return(e,t)=>{const _=S,A=Y,b=V,C=x,N=B("slide-in");return i(),n("div",null,[d(C,{"only-father-container":""},{banner:f(()=>[d(_,{title:"分类",subtitle:"category"})]),content:f(()=>[o(l)?k("",!0):(i(),n("div",R,[t[0]||(t[0]=s("div",{class:"title"}," 文章分类 ",-1)),s("div",G,[(i(!0),n(y,null,g(o(r),a=>j((i(),n("div",{key:a.id,class:"item",onClick:w=>e.$router.push(`/category/${a.id}`)},[s("div",null,v(a.categoryName),1),s("div",null,[s("span",null,v(a.articleCount),1)])],8,H)),[[N]])),128))])])),o(l)?(i(),n("div",J,[s("div",K,v(o(p)),1),s("div",null,[d(A,null,{default:f(()=>[s("div",O,[(i(!0),n(y,null,g(o(r),a=>(i(),n("p",{key:a.id,onClick:w=>e.$router.push(`/category/${a.id}`),class:F(["scrollbar-item",a.isActive?"active":""])},v(a.categoryName),11,P))),128))])]),_:1})]),d(b),d(I,{articleList:o(m)},null,8,["articleList"])])):k("",!0)]),_:1})])}}});const se=z(U,[["__scopeId","data-v-cecfd224"]]);export{se as default};

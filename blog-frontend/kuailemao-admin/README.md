# Ruyu-Blog ç®¡ç†åå°

## ğŸ“‹ é¡¹ç›®ä»‹ç»

Ruyu-Blog ç®¡ç†åå°æ˜¯åŸºäº Vue 3 + Ant Design Vue Pro æ„å»ºçš„ç°ä»£åŒ–åšå®¢ç®¡ç†ç³»ç»Ÿå‰ç«¯ç•Œé¢ï¼Œæä¾›å®Œæ•´çš„åšå®¢å†…å®¹ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé€šè¿‡ RESTful API ä¸åç«¯æœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œä¸ºåšå®¢ç®¡ç†å‘˜æä¾›é«˜æ•ˆã€ç›´è§‚çš„ç®¡ç†ä½“éªŒã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šVue 3
- **æ„å»ºå·¥å…·**ï¼šVite
- **ç¼–ç¨‹è¯­è¨€**ï¼šTypeScript
- **UI æ¡†æ¶**ï¼šAnt Design Vue
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **è·¯ç”±ç®¡ç†**ï¼šVue Router
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios
- **CSS é¢„å¤„ç†å™¨**ï¼šLess
- **å›¾æ ‡åº“**ï¼šAnt Design Icons
- **å›½é™…åŒ–**ï¼ši18n
- **ä»£ç è§„èŒƒ**ï¼šESLint + Prettier
- **å®¹å™¨åŒ–**ï¼šDocker

## ğŸ“ é¡¹ç›®ç»“æ„

```
blog-frontend/kuailemao-admin/src/
â”œâ”€â”€ App.vue                     # åº”ç”¨å…¥å£ç»„ä»¶
â”œâ”€â”€ api/                        # API æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ blog/                   # åšå®¢ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ article/            # æ–‡ç« æ¥å£
â”‚   â”‚   â”œâ”€â”€ category/           # åˆ†ç±»æ¥å£
â”‚   â”‚   â”œâ”€â”€ comment/            # è¯„è®ºæ¥å£
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ common/                 # é€šç”¨æ¥å£
â”‚   â”œâ”€â”€ log/                    # æ—¥å¿—æ¥å£
â”‚   â”œâ”€â”€ permission/             # æƒé™æ¥å£
â”‚   â”œâ”€â”€ role/                   # è§’è‰²æ¥å£
â”‚   â””â”€â”€ user/                   # ç”¨æˆ·æ¥å£
â”œâ”€â”€ assets/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/                 # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ styles/                 # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ components/                 # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ access/                 # æƒé™ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ base-loading/           # åŠ è½½ç»„ä»¶
â”‚   â”œâ”€â”€ layout/                 # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ composables/                # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ access.ts               # æƒé™ç›¸å…³å‡½æ•°
â”‚   â”œâ”€â”€ api.ts                  # API ç›¸å…³å‡½æ•°
â”‚   â””â”€â”€ ...
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ directive/                  # è‡ªå®šä¹‰æŒ‡ä»¤
â”‚   â”œâ”€â”€ access.ts               # æƒé™æŒ‡ä»¤
â”‚   â”œâ”€â”€ loading.ts              # åŠ è½½æŒ‡ä»¤
â”‚   â””â”€â”€ ...
â”œâ”€â”€ enums/                      # æšä¸¾ç±»å‹
â”œâ”€â”€ layouts/                    # é¡µé¢å¸ƒå±€
â”‚   â”œâ”€â”€ basic-layout/           # åŸºç¡€å¸ƒå±€
â”‚   â”œâ”€â”€ components/             # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ multi-tab/              # å¤šæ ‡ç­¾å¸ƒå±€
â”œâ”€â”€ locales/                    # å›½é™…åŒ–èµ„æº
â”‚   â””â”€â”€ lang/                   # è¯­è¨€æ–‡ä»¶
â”œâ”€â”€ main.ts                     # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ pages/                      # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ account/                # è´¦æˆ·ç›¸å…³é¡µé¢
â”‚   â”œâ”€â”€ blog/                   # åšå®¢ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ article/            # æ–‡ç« ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ category/           # åˆ†ç±»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ comment/            # è¯„è®ºç®¡ç†
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ common/                 # é€šç”¨é¡µé¢
â”‚   â”œâ”€â”€ exception/              # å¼‚å¸¸é¡µé¢
â”‚   â”œâ”€â”€ system/                 # ç³»ç»Ÿç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ log/                # æ—¥å¿—ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ menu/               # èœå•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ permission/         # æƒé™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ role/               # è§’è‰²ç®¡ç†
â”‚   â”‚   â””â”€â”€ user/               # ç”¨æˆ·ç®¡ç†
â”‚   â””â”€â”€ welcome/                # æ¬¢è¿é¡µé¢
â”œâ”€â”€ router/                     # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ index.ts                # è·¯ç”±å…¥å£
â”‚   â”œâ”€â”€ dynamic-routes.ts       # åŠ¨æ€è·¯ç”±
â”‚   â”œâ”€â”€ router-guard.ts         # è·¯ç”±å®ˆå«
â”‚   â””â”€â”€ static-routes.ts        # é™æ€è·¯ç”±
â”œâ”€â”€ stores/                     # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ app.ts                  # åº”ç”¨çŠ¶æ€
â”‚   â”œâ”€â”€ layout-menu.ts          # èœå•çŠ¶æ€
â”‚   â”œâ”€â”€ multi-tab.ts            # å¤šæ ‡ç­¾çŠ¶æ€
â”‚   â””â”€â”€ user.ts                 # ç”¨æˆ·çŠ¶æ€
â””â”€â”€ utils/                      # å·¥å…·å‡½æ•°
    â”œâ”€â”€ request.ts              # ç½‘ç»œè¯·æ±‚å·¥å…·
    â”œâ”€â”€ tools.ts                # é€šç”¨å·¥å…·
    â””â”€â”€ ...
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è¯¦è§£

### æ•´ä½“æ¶æ„

Ruyu-Blog ç®¡ç†åå°é‡‡ç”¨ç°ä»£åŒ–å‰ç«¯æ¶æ„ï¼ŒåŸºäº Vue 3 çš„ç»„åˆå¼ API æ„å»ºï¼Œå®ç°äº†ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–çš„å‰ç«¯åº”ç”¨ã€‚

![å‰ç«¯æ¶æ„å›¾](https://raw.githubusercontent.com/kuailemao/Ruyu-Blog/master/img/frontend_architecture.svg)

### æ ¸å¿ƒæ¶æ„è®¾è®¡

1. **ç»„ä»¶åŒ–è®¾è®¡**
   - é¡µé¢çº§ç»„ä»¶ä¸ä¸šåŠ¡ç»„ä»¶åˆ†ç¦»
   - é€šç”¨ç»„ä»¶å¤ç”¨æœºåˆ¶
   - ç»„ä»¶é—´é€šä¿¡é€šè¿‡ Props/Eventsã€Provide/Injectã€Pinia çŠ¶æ€ç®¡ç†ç­‰å¤šç§æ–¹å¼å®ç°

2. **çŠ¶æ€ç®¡ç†**
   - ä½¿ç”¨ Pinia è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†
   - æ¨¡å—åŒ–çš„ store è®¾è®¡ï¼Œåˆ†ç¦»ä¸åŒä¸šåŠ¡é¢†åŸŸçš„çŠ¶æ€
   - å“åº”å¼çŠ¶æ€æ›´æ–°ï¼Œç¡®ä¿è§†å›¾ä¸æ•°æ®åŒæ­¥

3. **è·¯ç”±ç³»ç»Ÿ**
   - é™æ€è·¯ç”±ä¸åŠ¨æ€è·¯ç”±ç»“åˆ
   - è·¯ç”±å®ˆå«å®ç°æƒé™æ§åˆ¶
   - æ”¯æŒå¤šæ ‡ç­¾é¡µåŠŸèƒ½

4. **API é€šä¿¡**
   - ç»Ÿä¸€çš„ API è¯·æ±‚å°è£…
   - è¯·æ±‚æ‹¦æˆªã€å“åº”æ‹¦æˆªå¤„ç†
   - é”™è¯¯å¤„ç†ä¸é‡è¯•æœºåˆ¶

5. **æƒé™ä½“ç³»**
   - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
   - åŠ¨æ€èœå•ä¸æƒé™éªŒè¯
   - æƒé™æŒ‡ä»¤ä¸æƒé™å‡½æ•°åŒé‡æ§åˆ¶

## âœ¨ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### ğŸ” æƒé™ç®¡ç†
- è§’è‰²ç®¡ç†ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤è§’è‰²
- æƒé™åˆ†é…ï¼šç»†ç²’åº¦çš„æƒé™æ§åˆ¶
- ç”¨æˆ·è§’è‰²ï¼šç”¨æˆ·ä¸è§’è‰²çš„å…³è”ç®¡ç†
- åŠ¨æ€èœå•ï¼šæ ¹æ®ç”¨æˆ·æƒé™åŠ¨æ€ç”Ÿæˆèœå•

### ğŸ“ å†…å®¹ç®¡ç†
- **æ–‡ç« ç®¡ç†**ï¼šæ–‡ç« çš„å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤ã€åˆ†ç±»ã€æ ‡ç­¾ç®¡ç†
- **åˆ†ç±»ç®¡ç†**ï¼šåˆ›å»ºå¤šçº§åˆ†ç±»ç»“æ„
- **æ ‡ç­¾ç®¡ç†**ï¼šæ–‡ç« æ ‡ç­¾çš„å¢åˆ æ”¹æŸ¥
- **è¯„è®ºç®¡ç†**ï¼šè¯„è®ºå®¡æ ¸ã€å›å¤ã€åˆ é™¤
- **å‹é“¾ç®¡ç†**ï¼šå‹é“¾ç”³è¯·å®¡æ ¸ä¸ç®¡ç†
- **æ ‘æ´ç®¡ç†**ï¼šåŒ¿åç•™è¨€çš„ç®¡ç†
- **ç•™è¨€æ¿**ï¼šè®¿å®¢ç•™è¨€çš„ç®¡ç†

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·åˆ—è¡¨ï¼šæŸ¥çœ‹ã€æœç´¢ã€ç­›é€‰ç”¨æˆ·
- ç”¨æˆ·ç¼–è¾‘ï¼šä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ã€é‡ç½®å¯†ç 
- ç”¨æˆ·çŠ¶æ€ï¼šå¯ç”¨/ç¦ç”¨ç”¨æˆ·è´¦æˆ·
- ç¬¬ä¸‰æ–¹ç™»å½•ï¼šç®¡ç†ç”¨æˆ·ç¬¬ä¸‰æ–¹è´¦å·ç»‘å®š

### ğŸ“Š ç³»ç»Ÿç›‘æ§
- æ“ä½œæ—¥å¿—ï¼šè®°å½•ç”¨æˆ·æ“ä½œè¡Œä¸º
- ç™»å½•æ—¥å¿—ï¼šè®°å½•ç”¨æˆ·ç™»å½•ä¿¡æ¯
- æœåŠ¡ç›‘æ§ï¼šæœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µ
- è®¿é—®ç»Ÿè®¡ï¼šç½‘ç«™è®¿é—®é‡ç»Ÿè®¡åˆ†æ

### âš™ï¸ ç³»ç»Ÿé…ç½®
- ç½‘ç«™ä¿¡æ¯é…ç½®ï¼šç½‘ç«™æ ‡é¢˜ã€æè¿°ã€Logoç­‰
- å…¬å‘Šç®¡ç†ï¼šå‘å¸ƒå’Œç®¡ç†ç½‘ç«™å…¬å‘Š
- è½®æ’­å›¾ç®¡ç†ï¼šé…ç½®é¦–é¡µè½®æ’­å›¾
- é»‘åå•ç®¡ç†ï¼šç®¡ç†æ¶æ„ç”¨æˆ·å’ŒIP

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- pnpm/npm/yarn

### 1. å®‰è£…ä¾èµ–

```bash
cd blog-frontend/kuailemao-admin

# ä½¿ç”¨ pnpm å®‰è£…ä¾èµ–ï¼ˆæ¨èï¼‰
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `.env.development` æ–‡ä»¶ï¼Œé…ç½®å¼€å‘ç¯å¢ƒå˜é‡ï¼š

```env
# å¼€å‘ç¯å¢ƒé…ç½®
NODE_ENV=development

# API åŸºç¡€è·¯å¾„
VITE_APP_BASE_URL=http://localhost:8088

# API å‰ç¼€
VITE_APP_BASE_API=/api

# å‰ç«¯åŸŸå
VITE_APP_DOMAIN_NAME_FRONT=http://localhost:99
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# ä½¿ç”¨ pnpm
pnpm run dev

# æˆ–ä½¿ç”¨ npm
npm run dev

# æˆ–ä½¿ç”¨ yarn
yarn dev
```

å¼€å‘æœåŠ¡å™¨å¯åŠ¨åï¼Œå¯è®¿é—® `http://localhost:5173` æŸ¥çœ‹ç®¡ç†åå°ç•Œé¢ã€‚

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# ä½¿ç”¨ pnpm
pnpm run build

# æˆ–ä½¿ç”¨ npm
npm run build

# æˆ–ä½¿ç”¨ yarn
yarn build
```

æ„å»ºå®Œæˆåï¼Œç”Ÿäº§ç‰ˆæœ¬æ–‡ä»¶å°†ç”Ÿæˆåœ¨ `dist` ç›®å½•ä¸­ã€‚

## ğŸ³ Docker éƒ¨ç½²

### æ„å»º Docker é•œåƒ

```bash
cd blog-frontend/kuailemao-admin

docker build -t ruyu-blog-admin .
```

### è¿è¡Œ Docker å®¹å™¨

```bash
docker run -d -p 80:80 --name ruyu-blog-admin ruyu-blog-admin
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ç»„ä»¶å¼€å‘
- éµå¾ª Vue 3 ç»„åˆå¼ API æœ€ä½³å®è·µ
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®šä¹‰
- ç»„ä»¶å‘½åéµå¾ª PascalCase è§„èŒƒ
- æ·»åŠ ç»„ä»¶æ–‡æ¡£æ³¨é‡Š

### API æ¥å£å¼€å‘
- æŒ‰ç…§åŠŸèƒ½æ¨¡å—ç»„ç»‡ API æ–‡ä»¶
- ç»Ÿä¸€å¤„ç†è¯·æ±‚å’Œå“åº”æ ¼å¼
- æ·»åŠ æ¥å£å‚æ•°å’Œè¿”å›å€¼ç±»å‹å®šä¹‰

### æƒé™æ§åˆ¶

#### æ”¯æŒæ–¹å¼
- å¤šè§’è‰²æƒé™æ§åˆ¶
- å¤šæƒé™ç‚¹æ§åˆ¶

#### ä½¿ç”¨æ–¹æ³•

**æ ¹æ®è§’è‰²åˆ¤æ–­æƒé™ï¼š**
- æ–¹æ³•1ï¼šåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `v-if="hasRole(['admin'])"` åˆ¤æ–­æ˜¯å¦æ‹¥æœ‰ admin è§’è‰²
- æ–¹æ³•2ï¼šåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `v-hasRole="[AccessEnum.USER, AccessEnum.ADMIN]"` è‡ªå®šä¹‰æŒ‡ä»¤

**æ ¹æ®æƒé™å­—ç¬¦åˆ¤æ–­æƒé™ï¼š**
- æ–¹æ³•1ï¼šåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `v-if="hasPermi(['user:add'])"` åˆ¤æ–­æ˜¯å¦æ‹¥æœ‰ user:add æƒé™
- æ–¹æ³•2ï¼šåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `v-hasPermi="['user:add', 'user:delete']"` è‡ªå®šä¹‰æŒ‡ä»¤

### è·¯ç”±é…ç½®

#### çˆ¶èœå•é…ç½®
```typescript
{
  component: 'RouteView',
  redirect: '/dashboard/workplace',
  meta: {
    title: 'ä¸»å¯¼èˆª',
    icon: 'dashboard',
    permissions: ['dashboard']
  },
  children: []
}
```

#### æ™®é€šç»„ä»¶é…ç½®
```typescript
{
  path: 'article',
  component: './blog/article/index',
  meta: {
    title: 'æ–‡ç« ç®¡ç†',
    icon: 'file-text',
    permissions: ['article:list']
  }
}
```

#### å†…åµŒç»„ä»¶é…ç½®
```typescript
{
  path: 'iframe',
  component: 'Iframe',
  meta: {
    title: 'å†…åµŒé¡µé¢',
    icon: 'link'
  },
  props: {
    url: 'https://example.com'
  }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼ˆgit checkout -b feature/your-featureï¼‰
3. æäº¤ä½ çš„ä¿®æ”¹ï¼ˆgit commit -am 'Add some feature'ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆgit push origin feature/your-featureï¼‰
5. åˆ›å»º Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚
